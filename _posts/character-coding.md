---
title: ASCII,GB2312,Unicode,UTF8,UTF16
date: 2020-11-10 15:03:56
tags: Web
---

## ASCII (American Standard Code Information Interchange)

`
å¯è§å­—ç¬¦ 95ä¸ª
æ§åˆ¶å­—ç¬¦ 33ä¸ª
`
![](/images/character_coding/ascii.png)

## ä¸­æ–‡

### è®¾è®¡å­—ç¬¦é›†GB2312
åˆ†åŒºç®¡ç†ï¼Œå…±è®¡94ä¸ªåŒºï¼Œæ¯ä¸ªåŒºå«94ä¸ªä½ï¼Œå…±8836ä¸ªç ä½
01-09åŒºæ”¶å½•é™¤æ±‰å­—å¤–çš„682ä¸ªå­—ç¬¦t
10-15åŒºä¸ºç©ºç™½åŒºï¼Œæ²¡æœ‰ä½¿ç”¨
16-55åŒºæ”¶å½•3755ä¸ªä¸€çº§æ±‰å­—ï¼ŒæŒ‰æ‹¼éŸ³æ’åº
56-87åŒºæ”¶å½•3008ä¸ªäºŒçº§æ±‰å­—ï¼ŒæŒ‰éƒ¨é¦–/ç¬”ç”»æ’åº
99-94åŒºä½ç©ºç™½åŒºï¼Œæ²¡æœ‰ä½¿ç”¨

### å­˜å‚¨GB2312

eg ä¾ƒ 5709

0x57+0xA0ï¼ˆå¤§äº127ï¼Œé¿å¼€asciiç ï¼‰=0xD9
0x09+0xA0=0xA9

å¾—åˆ°ä¾ƒçš„GB2312ç : `0xD90XA9`

### æ‰©å±•GB2312ï¼šGBK

æ–°å¢20000ä¸ªæ±‰å­—å’Œç¬¦å·ï¼Œä¸å†è§„å®šåœ°ä½å¤§äº127

### æ‰©å±•GBKï¼šGB18030

æ–°å¢å‡ åƒå°‘æ•°æ°‘æ—å­—ç¬¦


## Unicode

ä¸åŒå›½å®¶æœ‰ä¸åŒçš„ç¼–ç ï¼ŒUnicodeç»Ÿä¸€æ‰€æœ‰çš„å­—ç¬¦ç¼–ç 

ä¸€å¼€å§‹unicodeä½¿ç”¨UCS-2å­—ç¬¦é›†(Universal Character Set)ï¼Œ16ä½å¯è¡¨ç¤º65536ä¸ªå­—ç¬¦
ä½†è¿˜æ˜¯æ— æ³•è¡¨ç¤ºä¸–ç•Œä¸Šæ‰€æœ‰çš„å­—ç¬¦
åæ¥åˆæœ‰äº†UCS-4å­—ç¬¦é›†ï¼Œç”¨32ä½è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå¯è¡¨ç¤ºè¿‘43äº¿ä¸ªå­—ç¬¦
ä½†æ˜¯ç©ºé—´è¿‡å¤§ï¼Œä¸èƒ½æ¥å—

`
Unicodeæ˜¯ç”¨0è‡³65535ä¹‹é—´çš„æ•°å­—æ¥è¡¨ç¤ºæ‰€æœ‰å­—ç¬¦.å…¶ä¸­0è‡³127è¿™128ä¸ªæ•°å­—è¡¨ç¤ºçš„å­—ç¬¦ä»ç„¶è·ŸASCIIå®Œå…¨ä¸€æ ·.65536æ˜¯2çš„16æ¬¡æ–¹.è¿™æ˜¯ç¬¬ä¸€æ­¥.ç¬¬äºŒæ­¥å°±æ˜¯æ€ä¹ˆæŠŠ0è‡³65535è¿™äº›æ•°å­—è½¬åŒ–æˆ01ä¸²ä¿å­˜åˆ°è®¡ç®—æœºä¸­.è¿™è‚¯å®šå°±æœ‰ä¸åŒçš„ä¿å­˜æ–¹å¼äº†.äºæ˜¯å‡ºç°äº†UTF(unicode transformation format),æœ‰UTF-8,UTF-16.
`

Unicodeå­—ç¬¦å¹³é¢æ˜ å°„
https://zh.wikipedia.org/wiki/Unicode%E5%AD%97%E7%AC%A6%E5%B9%B3%E9%9D%A2%E6%98%A0%E5%B0%84

## UTF-8ç¼–ç ï¼ˆunicode transformation formatï¼‰

å°†UCS-4å­—ç¬¦é›†çš„ç ä½åˆ’åˆ†ä¸º4ä¸ªåŒºé—´
![](/images/character_coding/utf8.png)

e.g.
ç¼– ï¼ˆunicode 32534) :
->åè¿›åˆ¶ 32534
->äºŒè¿›åˆ¶ 0111 11 1100 01 0110
(1110xx 10xx 10xx)
->(1110) 0111 (10)11 1100 (10)01 0110
-> e     7    b      c    9      6
-> UTF-8: e7 bc 96
-> URLç¼–ç : %e7%bc%96

## UTF-16ç¼–ç 

åœ¨UnicodeåŸºæœ¬å¤šæ–‡ç§å¹³é¢(0è™Ÿå¹³é¢)å®šä¹‰çš„å­—ç¬¦ï¼ˆæ— è®ºæ˜¯æ‹‰ä¸å­—æ¯ã€æ±‰å­—æˆ–å…¶ä»–æ–‡å­—æˆ–ç¬¦å·ï¼‰ï¼Œä¸€å¾‹ä½¿ç”¨2å­—èŠ‚å‚¨å­˜ã€‚è€Œåœ¨è¾…åŠ©å¹³é¢å®šä¹‰çš„å­—ç¬¦ï¼Œä¼šä»¥ä»£ç†å¯¹ï¼ˆsurrogate pairï¼‰çš„å½¢å¼ï¼Œä»¥ä¸¤ä¸ª2å­—èŠ‚çš„å€¼æ¥å‚¨å­˜ã€‚

UTF-16æ¯”èµ·UTF-8ï¼Œå¥½å¤„åœ¨äºå¤§éƒ¨åˆ†å­—ç¬¦éƒ½ä»¥å›ºå®šé•¿åº¦çš„å­—èŠ‚ï¼ˆ2å­—èŠ‚ï¼‰å‚¨å­˜ï¼Œä½†UTF-16å´æ— æ³•å…¼å®¹äºASCIIç¼–ç ã€‚

UTF-16 é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚é‚£ä¹ˆç”¨ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºå¿…ç„¶å­˜åœ¨å­—èŠ‚åºçš„é—®é¢˜ï¼Œå³å¤§ç«¯å°ç«¯çš„é—®é¢˜ã€‚ä¸‹é¢å°±æ¥è®²è®² UTF-16BEã€UTF-16LEã€UTF-16 ä¸‰è€…ä¹‹é—´çš„åŒºåˆ«å§ã€‚

UTF-16BEï¼Œå…¶åç¼€æ˜¯ BE å³ big-endianï¼Œå¤§ç«¯çš„æ„æ€ã€‚å¤§ç«¯å°±æ˜¯å°†é«˜ä½çš„å­—èŠ‚æ”¾åœ¨ä½åœ°å€è¡¨ç¤ºã€‚
UTF-16LEï¼Œå…¶åç¼€æ˜¯ LE å³ little-endianï¼Œå°ç«¯çš„æ„æ€ã€‚å°ç«¯å°±æ˜¯å°†é«˜ä½çš„å­—èŠ‚æ”¾åœ¨é«˜åœ°å€è¡¨ç¤ºã€‚
UTF-16ï¼Œæ²¡æœ‰æŒ‡å®šåç¼€ï¼Œå³ä¸çŸ¥é“å…¶æ˜¯å¤§å°ç«¯ï¼Œæ‰€ä»¥å…¶å¼€å§‹çš„ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºè¯¥å­—èŠ‚æ•°ç»„æ˜¯å¤§ç«¯è¿˜æ˜¯å°ç«¯ã€‚å³FE FFè¡¨ç¤ºå¤§ç«¯ï¼ŒFF FEè¡¨ç¤ºå°ç«¯ã€‚

Python test

"ç‹" unicode = 0x0000 738b = int(29579)
```
>>> bytes("ç‹", "utf-8")
b'\xe7\x8e\x8b'
>>> bytes("ç‹", "utf-16")
b'\xff\xfe\x8bs'
>>> hex(ord('s'))
'0x73'
```


Java charç±»å‹é‡‡ç”¨UTF-16ç¼–ç è¡¨ç¤ºä¸€ä¸ªä»£ç å•å…ƒ, è¾…åŠ©å¹³é¢å®šä¹‰çš„å­—ç¬¦éœ€è¦ç”¨ä¸¤ä¸ªcharè¡¨ç¤º

```
String s = "hi\uD83E\uDF60";
System.out.println(s);
System.out.println(s.length());
int cpCount = s.codePointCount(0, s.length());
System.out.println(cpCount);
char ch = s.charAt(2);
System.out.println(ch);

hiğŸ­ 
4
3
?
```
